## 用途

此 NodeJS 代码可以把一个大的 JSON 文件分割为多个较小的 JSON 文件。

要求源数据是对象数组，示例：

```json
[{}, {}, {}, {}, {},]
```

分割为多个文件，内容如下：

```js
[{}, {},]
[{}, {},]
[{},]
```

## 示例

在一个例子中，源文件 `test-573002.json` 含有 573002 条数据，文件体积为 824 MB (865,027,197 字节)，无法在一些场景中被读取（因为浏览器和 NodeJS 的单个字符串变量最大内存字节数为 512MB）。

运行此代码，把源数据以 100000 条为单位分割，保存到单独的文件。生成了以下文件：

```
split - 100000.json
split - 200000.json
split - 300000.json
split - 400000.json
split - 500000.json
split - 573002.json
```

## 使用

1. 安装 NodeJS 运行环境
2. 下载此代码
3. 把源文件放在此项目文件夹中
4. 在项目文件夹里执行 `npm i` 安装依赖
5. 编辑 `index.js`，设置文件名 `file` 和分割时的数据批次 `batch`
6. 执行 `node index.js`，等待执行完成。

## 第三方库

https://www.npmjs.com/package/stream-json
